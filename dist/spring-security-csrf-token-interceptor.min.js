angular.module("spring-security-csrf-token-interceptor",[]).config(["$httpProvider",function($httpProvider){var getTokenData=function(){var defaultCsrfTokenHeader="X-CSRF-TOKEN",csrfTokenHeaderName="X-CSRF-HEADER",xhr=new XMLHttpRequest;xhr.open("head","/",!1),xhr.send();var csrfTokenHeader=xhr.getResponseHeader(csrfTokenHeaderName);return csrfTokenHeader=csrfTokenHeader?csrfTokenHeader:defaultCsrfTokenHeader,{headerName:csrfTokenHeader,token:xhr.getResponseHeader(csrfTokenHeader)}},csrfTokenData=getTokenData();$httpProvider.interceptors.push(function($q){return{request:function(config){return"post"==config.method.toLowerCase()&&(csrfTokenData=getTokenData()),config.headers[csrfTokenData.headerName]=csrfTokenData.token,config||$q.when(config)}}})}]);